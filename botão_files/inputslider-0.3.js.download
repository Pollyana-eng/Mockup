!function(o){o.fn.iSlider=function(e){var l=jQuery.extend({id:"",min:0,max:100,decimal:!1,decimalno:10},e);return this.each(function(){$ObjEle=o(this);var a=$ObjEle.val(),i=$ObjEle.offset(),t=$ObjEle.outerHeight(),n={x:0,y:0},d={position:{top:0,left:0},width:0,state:!1,handleX:0,handleState:!1,handleMiddle:0};l.decimal&&(l.min*=l.decimalno,l.max*=l.decimalno),$ObjEle.on("click",function(e){if($Obj=o(this),0==d.state){a=$Obj.val(),i=$Obj.offset(),t=$Obj.outerHeight(),d.width=l.max-l.min;var n=o("<div class='scontainer' ></div>").css({top:i.top+t,left:i.left,position:"absolute","background-color":"#EFEFEF","border-color":"#bebebe","box-shadow":"2px 5px 12px #8e8e8e"}).append("<div class='sbar' style='width:"+d.width+"px' ><div class='shandle'>&nbsp;</div></div>");n.mousedown(function(){d.handleState=!0}).mouseup(function(e){e.stopPropagation(),d.handleState=!1}),o("body").append(n),d.position=o(".sbar").offset(),d.handleMiddle=o(".shandle").width()/2,l.decimal?""==a?a=l.min/l.decimalno:a<l.min/l.decimalno?a=l.min/l.decimalno:a>l.max/l.decimalno&&(a=l.max/l.decimalno):""==a?a=l.min:a<l.min?a=l.min:a>l.max&&(a=l.max),l.decimal?d.handleX=Math.round(a*l.decimalno)-l.min-Math.round(d.handleMiddle):d.handleX=Math.round(a)-l.min-Math.round(d.handleMiddle),o(".shandle").css({left:d.handleX}),d.state=!0}return!1}).on("keyup",function(){return 1==d.state&&(""==(a=$Obj.val())?a=l.min:a<l.min?a=l.min:a>l.max&&(a=l.max),d.handleX=Math.round(a)-l.min-Math.round(d.handleMiddle),o(".shandle").css({left:d.handleX})),!1}),o(document).mousemove(function(e){1==d.state&&d.handleState&&(n.x=e.pageX,(a=Math.round(n.x-d.position.left+l.min))<l.min?a=l.min:a>l.max&&(a=l.max),d.handleX=d.position.left+a-l.min-d.handleMiddle,o(".shandle").offset({left:d.handleX}),l.decimal?$Obj.val(a/l.decimalno).change():$Obj.val(a).change())}).mouseup(function(e){(d.handleState=!1,d.state)&&(d.state=!1,o(".scontainer").remove())}).keydown(function(e){})})}}(jQuery);